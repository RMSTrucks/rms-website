---
/**
 * Google Ads Landing Page - New Authority Trucking Insurance
 *
 * Purpose: Dedicated landing page for paid Google Ads traffic
 * Target: New authority truckers searching for insurance
 * Goal: Phone calls + quote form submissions
 *
 * Design decisions:
 * - Minimal navigation (logo only, no links to distract)
 * - Phone number prominent and repeated
 * - Short, focused content
 * - Trust signals above fold
 * - Sticky mobile CTA
 * - noindex to avoid competing with organic pages
 */

// Inline the layout styles to keep this page self-contained
// and stripped down for conversion focus

const faqs = [
  {
    question: "How much does new authority insurance cost?",
    answer: "New authority insurance typically runs $12,000-$20,000/year for liability. That's the reality with a new MC number. It goes down after you build 2 years of clean history."
  },
  {
    question: "Can I get a lower price somewhere else?",
    answer: "Probably not. Only 3-4 carriers write new authorities - Progressive, NICO, BHHC, GEICO. The rates are basically the same everywhere. The difference is who picks up when you call."
  },
  {
    question: "How fast can I get covered?",
    answer: "Once you accept a quote and pay, coverage can bind same day. BMC-91 filings typically process within 24-48 hours. We handle the timing so you're covered when your authority goes active."
  },
  {
    question: "What coverage do I actually need?",
    answer: "Required: Auto liability ($750K-$1M) and cargo insurance. Smart to have: Physical damage (required if financed), non-trucking liability, occupational accident. We'll explain what makes sense for your situation."
  },
  {
    question: "Do you handle the FMCSA filings?",
    answer: "Yes. We file your BMC-91 (proof of insurance) directly with FMCSA. We know the timing and process - it's what we do every day."
  }
];

const phoneNumber = "208-800-0640";
const phoneTel = "tel:208-800-0640";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="New authority trucking insurance from specialists who do this every day. Fast quotes, BMC-91 filings handled, real answers. Call 208-800-0640." />
    <meta name="robots" content="noindex, nofollow" />
    <title>New Authority Trucking Insurance - Get Covered Fast | RMS</title>

    <!-- Canonical (self-referential for landing page) -->
    <link rel="canonical" href="https://rmstruckers.com/new-authority/" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Google Analytics (existing) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7DG2LGB2Z9"></script>
    <script is:inline>
      window.dataLayer = window.dataLayer || [];
      window.gtag = function(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7DG2LGB2Z9');
    </script>

    <!--
    ============================================
    GOOGLE ADS CONVERSION TRACKING - ADD HERE
    ============================================

    Replace YOUR_CONVERSION_ID and YOUR_CONVERSION_LABEL with values from Google Ads:

    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-YOUR_CONVERSION_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'AW-YOUR_CONVERSION_ID');
    </script>

    ============================================
    -->

    <style is:global>
      :root {
        --forest: #1B4332;
        --forest-deep: #0D2118;
        --gold: #DAA520;
        --gold-hover: #C49B1A;
        --white: #ffffff;
        --gray-100: #f7f7f7;
        --gray-200: #e5e5e5;
        --gray-600: #6b7280;
        --text: #1f2937;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: 'DM Sans', -apple-system, sans-serif;
        line-height: 1.6;
        color: var(--text);
        background: var(--white);
      }

      h1, h2, h3, .headline {
        font-family: 'Crimson Pro', Georgia, serif;
        font-weight: 600;
        line-height: 1.15;
      }

      a {
        color: var(--gold);
        text-decoration: none;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 0 24px;
      }
    </style>
  </head>

  <body>
    <!-- Minimal Header - Logo + Phone Only -->
    <header class="lp-header">
      <div class="container header-inner">
        <a href="/" class="logo">
          <!-- Oak Crown Mark -->
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="35" viewBox="0 0 120 150">
            <circle cx="60" cy="12" r="10" fill="#DAA520"/>
            <rect x="54" y="28" width="12" height="118" fill="#FFFFFF"/>
            <rect x="38" y="32" width="44" height="10" fill="#FFFFFF"/>
            <rect x="24" y="52" width="72" height="10" fill="#FFFFFF"/>
            <rect x="12" y="72" width="96" height="10" fill="#FFFFFF"/>
            <rect x="24" y="92" width="72" height="10" fill="#FFFFFF"/>
            <rect x="38" y="112" width="44" height="10" fill="#FFFFFF"/>
          </svg>
          <span>RMS Truck Insurance</span>
        </a>
        <a href={phoneTel} class="header-phone">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
          </svg>
          {phoneNumber}
        </a>
      </div>
    </header>

    <main>
      <!-- HERO -->
      <section class="hero">
        <div class="container">
          <span class="hero-badge">New Authority Specialists</span>
          <h1>New Authority?<br/>Let's Get You Covered Right.</h1>
          <p class="hero-sub">Getting your authority is hard enough. We make insurance the easy part.</p>

          <a href={phoneTel} class="hero-cta">
            <span class="cta-label">Talk to Someone Who Gets It</span>
            <span class="cta-number">{phoneNumber}</span>
          </a>

          <div class="trust-row">
            <div class="trust-item">
              <strong>1,000+</strong>
              <span>Truckers Helped</span>
            </div>
            <div class="trust-item">
              <strong>Since 2022</strong>
              <span>New Authority Experts</span>
            </div>
            <div class="trust-item">
              <strong>40+ States</strong>
              <span>Licensed</span>
            </div>
          </div>
        </div>
      </section>

      <!-- WHAT WE DO FOR YOU -->
      <section class="what-we-do">
        <div class="container">
          <h2>We Know What You're Dealing With</h2>
          <p class="section-intro">DOT filings. Finding your first loads. Managing cash flow. And now... figuring out insurance. One more thing on the pile. We get it.</p>

          <div class="value-grid">
            <div class="value-card">
              <h3>Walk You Through What You Need</h3>
              <p>We'll explain exactly what coverage is required, what's smart to have, and what you can skip. No upselling - just honest answers.</p>
            </div>
            <div class="value-card">
              <h3>Get You Quoted Fast</h3>
              <p>You need to get moving. We'll get you options quickly so you can start running loads - not wait around for callbacks.</p>
            </div>
            <div class="value-card">
              <h3>Be Here When You Have Questions</h3>
              <p>You will have questions. That's normal. And we actually answer the phone when you call.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- QUOTE FORM -->
      <section class="quote-section" id="quote">
        <div class="container">
          <div class="quote-layout">
            <div class="quote-info">
              <span class="section-tag">Get Started</span>
              <h2>Get Your New Authority Quote</h2>
              <p>Same-day quotes for new authorities. We handle the BMC-91 filing. Call or complete the form.</p>
              <ul class="quote-benefits">
                <li>No obligation quote</li>
                <li>We explain everything</li>
                <li>BMC-91 filing handled</li>
              </ul>
              <p class="quote-alt">Prefer to talk? <a href={phoneTel}>{phoneNumber}</a></p>
            </div>

            <form class="quote-form" action="/api/gads-lead" method="POST">
              <input type="hidden" name="_source" value="google-ads-lp" />
              <input type="hidden" name="_landing_page" value="new-authority" />

              <div class="form-row">
                <div class="form-field">
                  <label for="name">Your Name <span class="required">*</span></label>
                  <input type="text" id="name" name="name" required placeholder="John Smith" autocomplete="name">
                  <span class="field-error"></span>
                </div>
                <div class="form-field">
                  <label for="phone">Phone <span class="required">*</span></label>
                  <input type="tel" id="phone" name="phone" required placeholder="(555) 123-4567" autocomplete="tel">
                  <span class="field-error"></span>
                </div>
              </div>

              <div class="form-row">
                <div class="form-field">
                  <label for="email">Email <span class="required">*</span></label>
                  <input type="email" id="email" name="email" required placeholder="john@example.com" autocomplete="email">
                  <span class="field-error"></span>
                </div>
                <div class="form-field">
                  <label for="dot">USDOT# <span class="optional">(if you have it)</span></label>
                  <input type="text" id="dot" name="usdot" placeholder="1234567" inputmode="numeric" pattern="[0-9]*">
                  <span class="field-error"></span>
                </div>
              </div>

              <div class="form-field">
                <label for="authority_status">Authority Status <span class="required">*</span></label>
                <select id="authority_status" name="authority_status" required>
                  <option value="">Select...</option>
                  <option value="waiting">In 20-day waiting period</option>
                  <option value="active">Authority is active</option>
                  <option value="not_applied">Haven't applied yet</option>
                </select>
                <span class="field-error"></span>
              </div>

              <div class="form-field">
                <label for="message">Anything else we should know? <span class="optional">(optional)</span></label>
                <textarea id="message" name="message" rows="2" placeholder="What you haul, when you need coverage..."></textarea>
              </div>

              <button type="submit" class="btn-submit">
                <span class="btn-text">Get My Quote</span>
                <span class="btn-loading" style="display:none;">Sending...</span>
              </button>
              <div class="form-message" style="display:none;"></div>
            </form>
          </div>
        </div>
      </section>

      <!-- HOW IT WORKS -->
      <section class="how-it-works">
        <div class="container">
          <h2>How It Works</h2>
          <div class="steps">
            <div class="step">
              <span class="step-num">1</span>
              <h4>Tell Us About Your Operation</h4>
              <p>Quick call or form. We ask the right questions about your authority, equipment, and what you'll haul.</p>
            </div>
            <div class="step">
              <span class="step-num">2</span>
              <h4>Get Options That Fit</h4>
              <p>We shop the carriers that write new authorities and explain what you're actually buying.</p>
            </div>
            <div class="step">
              <span class="step-num">3</span>
              <h4>Get Covered, Start Hauling</h4>
              <p>We handle the BMC-91 filing. You get your COI and hit the road.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- FAQ -->
      <section class="faq">
        <div class="container">
          <h2>New Authority Questions</h2>
          <div class="faq-list">
            {faqs.map((faq) => (
              <details class="faq-item">
                <summary>{faq.question}</summary>
                <p>{faq.answer}</p>
              </details>
            ))}
          </div>
        </div>
      </section>

      <!-- FINAL CTA -->
      <section class="final-cta">
        <div class="container">
          <h2>Ready to Get Started?</h2>
          <p>Call or text - we answer.</p>
          <a href={phoneTel} class="cta-phone">{phoneNumber}</a>
          <p class="cta-sub">Free explanations. No pressure.</p>
        </div>
      </section>
    </main>

    <!-- Minimal Footer -->
    <footer class="lp-footer">
      <div class="container">
        <p>&copy; 2024 RMS Truck Insurance. Serving truckers since 2022. Idaho - Nationwide Coverage.</p>
      </div>
    </footer>

    <!-- Sticky Mobile CTA -->
    <div class="mobile-cta">
      <a href={phoneTel} class="mobile-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
        </svg>
        Call for New Authority Quote
      </a>
    </div>

    <style>
      /* ========================================
         LANDING PAGE STYLES
         ======================================== */

      /* Header */
      .lp-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background: rgba(10, 26, 18, 0.95);
        backdrop-filter: blur(12px);
        padding: 1rem 0;
      }

      .header-inner {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        color: var(--white);
        display: flex;
        align-items: center;
        gap: 10px;
        text-decoration: none;
      }

      .logo span {
        font-family: 'DM Sans', sans-serif;
        font-size: 1.1rem;
        font-weight: 600;
      }

      .header-phone {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--white);
        font-weight: 500;
        transition: color 0.2s;
      }

      .header-phone:hover {
        color: var(--gold);
      }

      /* Hero */
      .hero {
        background: var(--forest-deep);
        color: var(--white);
        padding: 8rem 0 5rem;
        text-align: center;
      }

      .hero-badge {
        display: inline-block;
        background: rgba(218,165,32,0.15);
        border: 1px solid rgba(218,165,32,0.3);
        color: var(--gold);
        padding: 8px 16px;
        border-radius: 100px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        margin-bottom: 1.5rem;
      }

      .hero h1 {
        font-size: clamp(2.2rem, 6vw, 3.5rem);
        margin-bottom: 1rem;
        font-weight: 500;
      }

      .hero-sub {
        font-size: 1.2rem;
        opacity: 0.8;
        margin-bottom: 2rem;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
      }

      .hero-cta {
        display: inline-flex;
        flex-direction: column;
        align-items: center;
        background: var(--gold);
        color: var(--forest-deep);
        padding: 1.25rem 3rem;
        border-radius: 4px;
        text-decoration: none;
        transition: all 0.2s;
        margin-bottom: 2.5rem;
      }

      .hero-cta:hover {
        background: var(--white);
        transform: translateY(-2px);
      }

      .hero-cta .cta-label {
        font-size: 0.65rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        opacity: 0.7;
        margin-bottom: 4px;
      }

      .hero-cta .cta-number {
        font-family: 'Crimson Pro', serif;
        font-size: 1.75rem;
        font-weight: 600;
      }

      .trust-row {
        display: flex;
        justify-content: center;
        gap: 3rem;
        flex-wrap: wrap;
      }

      .trust-item {
        text-align: center;
      }

      .trust-item strong {
        display: block;
        font-family: 'Crimson Pro', serif;
        font-size: 1.25rem;
        color: var(--gold);
      }

      .trust-item span {
        font-size: 0.8rem;
        opacity: 0.6;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      /* What We Do */
      .what-we-do {
        padding: 5rem 0;
        background: var(--white);
      }

      .what-we-do h2 {
        font-size: clamp(1.75rem, 4vw, 2.5rem);
        color: var(--forest);
        text-align: center;
        margin-bottom: 1rem;
      }

      .section-intro {
        text-align: center;
        color: var(--gray-600);
        max-width: 600px;
        margin: 0 auto 3rem;
        font-size: 1.1rem;
      }

      .value-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
      }

      .value-card {
        text-align: center;
        padding: 1.5rem;
      }

      .value-card h3 {
        font-family: 'Crimson Pro', serif;
        font-size: 1.25rem;
        color: var(--forest);
        margin-bottom: 0.75rem;
      }

      .value-card p {
        color: var(--gray-600);
        line-height: 1.6;
      }

      /* Quote Section */
      .quote-section {
        padding: 5rem 0;
        background: var(--forest-deep);
        color: var(--white);
      }

      .section-tag {
        display: inline-block;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--gold);
        margin-bottom: 0.75rem;
      }

      .quote-layout {
        display: grid;
        grid-template-columns: 1fr 1.3fr;
        gap: 4rem;
        align-items: start;
      }

      .quote-info h2 {
        font-size: clamp(1.75rem, 4vw, 2.25rem);
        margin-bottom: 1rem;
      }

      .quote-info > p {
        opacity: 0.8;
        margin-bottom: 1.5rem;
      }

      .quote-benefits {
        list-style: none;
        margin: 0 0 1.5rem 0;
      }

      .quote-benefits li {
        padding: 0.4rem 0;
        padding-left: 1.5rem;
        position: relative;
        opacity: 0.8;
      }

      .quote-benefits li::before {
        content: '\2713';
        position: absolute;
        left: 0;
        color: var(--gold);
      }

      .quote-alt a {
        color: var(--gold);
        font-weight: 600;
      }

      .quote-form {
        background: rgba(255,255,255,0.05);
        padding: 2rem;
        border-radius: 8px;
        border: 1px solid rgba(255,255,255,0.1);
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      .form-field {
        margin-bottom: 1rem;
      }

      .form-field label {
        display: block;
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
        opacity: 0.9;
      }

      .form-field input,
      .form-field select,
      .form-field textarea {
        width: 100%;
        padding: 10px 14px;
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 4px;
        color: var(--white);
        font-size: 1rem;
        font-family: inherit;
      }

      .form-field input::placeholder,
      .form-field textarea::placeholder {
        color: rgba(255,255,255,0.4);
      }

      .form-field input:focus,
      .form-field select:focus,
      .form-field textarea:focus {
        outline: none;
        border-color: var(--gold);
      }

      .form-field select option {
        background: var(--forest);
        color: var(--white);
      }

      .form-field .required {
        color: #ef4444;
      }

      .form-field .optional {
        color: rgba(255,255,255,0.4);
        font-size: 0.8rem;
      }

      .field-error {
        display: block;
        color: #ef4444;
        font-size: 0.8rem;
        margin-top: 4px;
        min-height: 1.2em;
      }

      .form-field.has-error input,
      .form-field.has-error select {
        border-color: #ef4444;
      }

      .btn-submit {
        width: 100%;
        padding: 14px;
        background: var(--gold);
        color: var(--forest);
        font-size: 1rem;
        font-weight: 600;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .btn-submit:hover {
        background: var(--white);
      }

      .btn-submit:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .form-message {
        margin-top: 12px;
        padding: 12px 16px;
        border-radius: 4px;
        text-align: center;
      }

      .form-message.success {
        background: #e8f5e9;
        color: #2e7d32;
      }

      .form-message.error {
        background: #fbe9e7;
        color: #c62828;
      }

      /* How It Works */
      .how-it-works {
        padding: 5rem 0;
        background: var(--gray-100);
      }

      .how-it-works h2 {
        font-size: clamp(1.75rem, 4vw, 2.5rem);
        color: var(--forest);
        text-align: center;
        margin-bottom: 3rem;
      }

      .steps {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
      }

      .step {
        text-align: center;
        padding: 1.5rem;
      }

      .step-num {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 48px;
        height: 48px;
        background: var(--forest);
        color: var(--white);
        font-family: 'Crimson Pro', serif;
        font-size: 1.5rem;
        font-weight: 600;
        border-radius: 50%;
        margin-bottom: 1rem;
      }

      .step h4 {
        font-family: 'Crimson Pro', serif;
        font-size: 1.15rem;
        color: var(--forest);
        margin-bottom: 0.5rem;
      }

      .step p {
        color: var(--gray-600);
        font-size: 0.95rem;
        line-height: 1.6;
      }

      /* FAQ */
      .faq {
        padding: 5rem 0;
        background: var(--white);
      }

      .faq h2 {
        font-size: clamp(1.75rem, 4vw, 2.5rem);
        color: var(--forest);
        text-align: center;
        margin-bottom: 2rem;
      }

      .faq-list {
        max-width: 700px;
        margin: 0 auto;
      }

      .faq-item {
        border-bottom: 1px solid var(--gray-200);
      }

      .faq-item:first-child {
        border-top: 1px solid var(--gray-200);
      }

      .faq-item summary {
        padding: 1.25rem 0;
        cursor: pointer;
        font-weight: 500;
        list-style: none;
        font-family: 'Crimson Pro', serif;
        font-size: 1.1rem;
        color: var(--forest);
      }

      .faq-item summary::-webkit-details-marker {
        display: none;
      }

      .faq-item summary:hover {
        color: var(--gold-hover);
      }

      .faq-item[open] summary {
        color: var(--gold-hover);
      }

      .faq-item p {
        padding: 0 0 1.25rem;
        color: var(--gray-600);
        line-height: 1.7;
      }

      /* Final CTA */
      .final-cta {
        padding: 5rem 0;
        background: var(--gold);
        text-align: center;
      }

      .final-cta h2 {
        font-size: clamp(1.75rem, 4vw, 2.5rem);
        color: var(--forest);
        margin-bottom: 0.5rem;
      }

      .final-cta > .container > p {
        color: var(--forest);
        opacity: 0.8;
        margin-bottom: 1rem;
      }

      .final-cta .cta-phone {
        font-family: 'Crimson Pro', serif;
        font-size: clamp(2.5rem, 7vw, 4rem);
        font-weight: 600;
        color: var(--forest);
        text-decoration: none;
        display: block;
        transition: color 0.2s;
      }

      .final-cta .cta-phone:hover {
        color: var(--white);
      }

      .final-cta .cta-sub {
        font-size: 1rem;
        color: var(--forest);
        opacity: 0.7;
        margin-top: 0.5rem;
      }

      /* Footer */
      .lp-footer {
        background: var(--forest-deep);
        color: rgba(255,255,255,0.5);
        padding: 2rem 0;
        text-align: center;
        font-size: 0.85rem;
      }

      /* Mobile Sticky CTA */
      .mobile-cta {
        display: none;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 1rem;
        background: var(--forest);
        z-index: 999;
      }

      .mobile-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        padding: 14px;
        background: var(--gold);
        color: var(--forest);
        font-weight: 600;
        border-radius: 4px;
        text-decoration: none;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .value-grid,
        .steps {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }

        .quote-layout {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .form-row {
          grid-template-columns: 1fr;
        }

        .trust-row {
          gap: 1.5rem;
        }

        .mobile-cta {
          display: block;
        }

        .final-cta {
          padding-bottom: 7rem;
        }

        .hero {
          padding-top: 7rem;
        }
      }

      @media (max-width: 480px) {
        .hero h1 {
          font-size: 1.9rem;
        }

        .header-phone span {
          display: none;
        }
      }
    </style>

    <!-- Form Validation & Submission -->
    <script is:inline>
      document.querySelectorAll('.quote-form').forEach(function(quoteForm) {
        // Track form start
        let formStarted = false;
        quoteForm.querySelectorAll('input, select, textarea').forEach(function(field) {
          field.addEventListener('focus', function() {
            if (!formStarted && typeof gtag !== 'undefined') {
              formStarted = true;
              gtag('event', 'form_start', {
                'event_category': 'engagement',
                'event_label': 'lp_quote_form'
              });
            }
          });
        });

        // Validation rules
        const validators = {
          name: function(value) {
            if (!value.trim()) return 'Name is required';
            if (value.trim().length < 2) return 'Please enter your full name';
            return '';
          },
          phone: function(value) {
            if (!value.trim()) return 'Phone is required';
            var cleaned = value.replace(/[\s\-\(\)\+]/g, '');
            if (!/^\d{10,}$/.test(cleaned)) return 'Please enter a valid phone number';
            return '';
          },
          email: function(value) {
            if (!value.trim()) return 'Email is required';
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) return 'Please enter a valid email';
            return '';
          },
          authority_status: function(value) {
            if (!value) return 'Please select your authority status';
            return '';
          },
          dot: function(value) {
            if (value && !/^\d+$/.test(value)) return 'USDOT should be numbers only';
            return '';
          }
        };

        // Clear error on input
        quoteForm.querySelectorAll('input, select, textarea').forEach(function(field) {
          field.addEventListener('input', function() {
            var wrapper = this.closest('.form-field');
            wrapper.classList.remove('has-error');
            wrapper.querySelector('.field-error').textContent = '';
          });
        });

        // Validate single field
        function validateField(field) {
          var name = field.id;
          var validator = validators[name];
          if (!validator) return true;

          var error = validator(field.value);
          var wrapper = field.closest('.form-field');
          var errorEl = wrapper.querySelector('.field-error');

          if (error) {
            wrapper.classList.add('has-error');
            errorEl.textContent = error;
            return false;
          } else {
            wrapper.classList.remove('has-error');
            errorEl.textContent = '';
            return true;
          }
        }

        // Validate all fields
        function validateForm() {
          var isValid = true;
          var firstError = null;

          ['name', 'phone', 'email', 'authority_status', 'dot'].forEach(function(fieldId) {
            var field = quoteForm.querySelector('#' + fieldId);
            if (field && !validateField(field)) {
              isValid = false;
              if (!firstError) firstError = field;
            }
          });

          if (firstError) firstError.focus();
          return isValid;
        }

        // Handle submission
        quoteForm.addEventListener('submit', function(e) {
          e.preventDefault();

          if (!validateForm()) return;

          var btn = quoteForm.querySelector('.btn-submit');
          var btnText = btn.querySelector('.btn-text');
          var btnLoading = btn.querySelector('.btn-loading');
          var msg = quoteForm.querySelector('.form-message');

          btn.disabled = true;
          btnText.style.display = 'none';
          btnLoading.style.display = 'inline-flex';
          msg.style.display = 'none';

          // Track submission attempt
          if (typeof gtag !== 'undefined') {
            gtag('event', 'lp_form_submit', {
              'event_category': 'conversion',
              'event_label': 'new_authority_quote_request'
            });
          }

          // Submit to Close CRM via our API
          fetch(quoteForm.action, {
            method: 'POST',
            body: new FormData(quoteForm)
          })
          .then(function(res) {
            return res.json().then(function(data) {
              return { ok: res.ok, data: data };
            });
          })
          .then(function(result) {
            if (result.ok && result.data.success) {
              // Track successful submission
              if (typeof gtag !== 'undefined') {
                gtag('event', 'lp_form_success', {
                  'event_category': 'conversion',
                  'event_label': 'new_authority_quote_complete'
                });
              }

              // Redirect to thank you page
              window.location.href = '/thank-you/';
            } else {
              throw new Error(result.data.error || 'Submission failed');
            }
          })
          .catch(function(err) {
            console.error('Form submission error:', err);
            msg.textContent = 'Something went wrong. Call us at 208-800-0640.';
            msg.className = 'form-message error';
            msg.style.display = 'block';
            btn.disabled = false;
            btnText.style.display = 'inline';
            btnLoading.style.display = 'none';
          });
        });
      });

      // Track phone clicks
      document.querySelectorAll('a[href^="tel:"]').forEach(function(link) {
        link.addEventListener('click', function() {
          if (typeof gtag !== 'undefined') {
            gtag('event', 'phone_click', {
              'event_category': 'conversion',
              'event_label': 'lp_phone_click'
            });
          }
        });
      });

      // Track CTA clicks
      document.querySelectorAll('.hero-cta, .mobile-btn').forEach(function(btn) {
        btn.addEventListener('click', function() {
          if (typeof gtag !== 'undefined') {
            gtag('event', 'cta_click', {
              'event_category': 'engagement',
              'event_label': 'lp_cta_click'
            });
          }
        });
      });
    </script>
  </body>
</html>
